---
name: Solidity contracts
description: Production Solidity contracts/interfaces in src
globs:
  - 'src/**/*.sol'
  - '!src/**/*.s.sol'
  - '!src/**/*.t.sol'
---

- Do not modify production contracts in `src/` unless explicitly requested; changes to production logic could introduce bugs and may be overlooked.
- NatSpec required on contracts/interfaces in `src/`: `@title`, `@author LI.FI (https://li.fi)`, `@notice`, `@custom:version X.Y.Z`; document all public/external functions with params/returns.
- Apply Diamond patterns with existing libs (LibAsset/LibSwap/LibAllowList, Validatable/SwapperV2); prefer parameters over `msg.sender` for refund addresses.
