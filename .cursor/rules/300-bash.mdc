---
name: Bash scripts
description: Deployment bash structure and safety
globs:
  - '**/*.sh'
---

## Bash Deployment Framework

- Bash deploy wraps Foundry; robust retries; modular functions; helpers; early env validation.
- Start with `#!/bin/bash`; organize into functions (Logging, Error handling, Deployment functions); keep DRY via helpers.
- Load env from `.env`/`config.sh`; validate required vars early; update `.env.example` when adding envs; add system deps to `preinstall.sh` when needed.
- Use logging helpers (`echoDebug`, `error`, `warning`, `success`) and `checkFailure`; implement retries for RPC-sensitive steps; avoid inline secrets.
- Variable names must be all uppercase (e.g., `NETWORK`, `CONTRACT_ADDRESS`).
- Provide usage/help text; clear exit codes; document TODOs/limits succinctly; keep indentation and naming consistent.
