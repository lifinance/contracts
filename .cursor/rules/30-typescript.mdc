---
name: TypeScript scripts
description: TS scripting, helpers, lint/tests
globs:
  - "script/**/*.ts"
  - "tasks/**/*.ts"
---
- Run with `bunx tsx`; obey `.eslintrc.cjs`; avoid `any`; use TypeChain types (e.g., `ILiFi.BridgeDataStruct`).
- Always reuse helpers (e.g., `getDeployments`, `getProvider`, `getWalletFromPrivateKeyInDotEnv`, `sendTransaction`, `ensureBalanceAndAllowanceToDiamond`, `getUniswapData*`, env helpers); prefer existing patterns over new ones.
- New helpers require colocated `{name}.test.ts` with 100% coverage using Bun (`describe`/`it`/`expect`); cover edge cases and type safety.
- CLI: use `citty`; logging via `consola`; validate env via `getEnvVar()`; exit 0/1 appropriately.
- After TS changes run lint/tests (or state which remain) to ensure eslint/type checks pass.
